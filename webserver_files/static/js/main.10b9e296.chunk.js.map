{"version":3,"sources":["index.js"],"names":["Frequency","props","state","value","className","this","frequency","React","Component","FrequencyUpDown","i","keypad","handleUpDownClick","onClick","src","alt","SidebandButton","buttonclass","Sideband","sideband","setState","handleSidebandClick","renderButton","KeyButton","FrequencyKeypad","console","log","handlePanelClick","RadioPanel","handleOnChange","volume","handleOnChangeComplete","changeVolume","format","typed","initRadio","s","sprintf","require","freq","command","sendCommand","vol","c","fetch","then","response","json","data","mult","parseFloat","changeFrequency","changeSideband","indexOf","min","max","orientation","onChange","onChangeComplete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.10b9e296.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n\n// Using an ES6 transpiler like Babel\nimport Slider from 'react-rangeslider';\n \n// To include the default styles\nimport 'react-rangeslider/lib/index.css';\n \n\n\nclass Frequency extends React.Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n          value: null\n      }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"frequency-box\">\n        {this.props.frequency}\n        </div>\n      </div>\n    );\n  }\n\n}\n\n  class FrequencyUpDown extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: null\n        }\n    }\n\n    onClick(i) {\n      this.props.keypad.handleUpDownClick(i);\n    }\n\n    render() {\n      return (\n        <div>\n          <button onClick={() => this.onClick('up')} className=\"updown-button\"><img src=\"/upsmall.png\" alt=\"up\"/></button>\n          <button onClick={() => this.onClick('down')} className=\"updown-button\"><img src=\"/downsmall.png\" alt=\"down\"/></button>\n        </div>\n      );\n    }\n\n  }\n\n\n\n  function SidebandButton(props)\n  {\n    return (\n      <button \n          className={props.buttonclass} \n          onClick={() => props.onClick()}>\n        {props.value}\n      </button>\n    );\n  }\n\n  class Sideband extends React.Component {\n\n    constructor(props){\n      super(props)\n      this.state ={\n        sideband: this.props.sideband\n      }\n    }\n\n    renderButton(i) {\n      return (\n        <SidebandButton value={i} buttonclass={this.state.sideband==i ? \"sideband-button-pressed\" : \"sideband-button\"} \n          onClick={() => this.onClick(i)}\n        />\n      );\n    }\n\n    onClick(i) {\n      this.setState({ sideband : i });\n      this.props.keypad.handleSidebandClick(i);\n    }\n\n    render() {\n      return (\n        <div className=\"sideband-box\">\n          {this.renderButton('USB')}\n          {this.renderButton('LSB')}\n          </div>\n      );\n    }\n  }\n\n  function KeyButton(props)\n  {\n    return (\n      <button \n          className=\"panel-button\" \n          onClick={() => props.onClick()}>\n        {props.value}\n      </button>\n    );\n  }\n\n  class FrequencyKeypad extends React.Component {\n\n    renderButton(i) {\n      return (\n        <KeyButton value={i}\n          onClick={() => this.onClick(i)}\n        />\n      );\n    }\n\n    onClick(i) {\n      console.log(i);\n      this.props.keypad.handlePanelClick(i);\n    }\n\n    render() {\n      return (\n        <div className=\"keypad\">\n          <div className=\"keypad-row\">\n          {this.renderButton('7')}\n          {this.renderButton('8')}\n          {this.renderButton('9')}\n          {this.renderButton('0')}\n          </div>\n          <div className=\"keypad-row\">\n          {this.renderButton('4')}\n          {this.renderButton('5')}\n          {this.renderButton('6')}\n          {this.renderButton('.')}\n          </div>\n          <div className=\"keypad-row\">\n          {this.renderButton('1')}\n          {this.renderButton('2')}\n          {this.renderButton('3')}\n          {this.renderButton('E')}\n          </div>\n        </div>\n      );\n    }\n  }\n  \n  class RadioPanel extends React.Component {\n\n    constructor(props) {\n      super(props);\n      \n      this.state = {\n        sideband: this.props.sideband,\n        frequency: this.format(this.props.frequency),\n        typed: '',\n        volume: 1\n      };\n\n      this.initRadio( this.props.frequency, this.props.sideband );\n    }\n\n    format(s) {\n      var sprintf = require('sprintf-js').sprintf;\n      return sprintf('%2.6f', s )\n    }\n\n    initRadio( freq, sideband ) {\n      var command = 'frequency=' + freq + \"&sideband=\" + sideband;\n      this.sendCommand( command );\n    }\n\n    changeFrequency( freq ) {\n      var command = 'frequency=' + freq;\n      this.sendCommand( command );\n    }\n\n    changeSideband( sideband ) {\n      var command = 'sideband=' + sideband;\n      this.sendCommand( command );\n    }\n\n    changeVolume( vol ) {\n      var command = 'gain=' + vol;\n      this.sendCommand( command );\n    }\n\n    sendCommand( c ) {\n      console.log( c );\n      fetch(\"http://esp32-radio.attlocal.net/command?\" + c )\n        .then(response => response.json())\n        .then(data => console.log(data));\n    }\n\n    handleUpDownClick(i) {\n      var mult = 1;\n      if ( i == 'down' ) {\n        mult = -1;\n      }\n\n      var freq = parseFloat( this.state.frequency ) + mult*.0005;\n      var sprintf = require('sprintf-js').sprintf;\n      freq = sprintf('%2.6f', freq ); \n      this.changeFrequency( freq );\n      this.setState( { frequency : freq } );\n    }\n\n    handleSidebandClick(i) {\n      this.setState({ sideband : i });\n      this.changeSideband(i);\n    }\n\n    handleOnChange = (value) => {\n      this.setState({ volume: value });\n    }\n    \n    handleOnChangeComplete = (value) => {\n      this.changeVolume(this.state.volume);\n    }\n\n    handlePanelClick(i) {\n \n      var s;\n\n      if (  i == '.'  &&  this.state.typed.indexOf('.') >= 0 ) {\n          return;\n      }\n\n      if ( i == 'E') {\n          s = this.format( this.state.typed ) ;\n          this.setState({ typed : '', frequency : s });\n          this.changeFrequency(s);\n      }\n\n      else {\n          s = this.state.typed + i;\n          this.setState({ typed : s, frequency : s })\n      }\n    }\n\n    render() {\n      return (\n        <div className=\"radio-panel\">\n          <div className=\"frequency\">\n            <Frequency frequency={this.state.frequency}/>\n          </div>\n          <div className=\"frequency-updown\">\n            <FrequencyUpDown keypad={this} />\n            <Sideband keypad={this} sideband={this.state.sideband}/>\n          </div>\n          <div className=\"frequency-keypad\">\n            <FrequencyKeypad keypad={this} />\n          </div>\n          <div className=\"volume-slider\">\n            <Slider\n              min=\"1\"\n              max=\"20\"\n              value={this.state.volume}\n              orientation=\"vertical\"\n              onChange={this.handleOnChange}\n              onChangeComplete={this.handleOnChangeComplete}\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n  \n  // ========================================\n  \n  ReactDOM.render(\n    <RadioPanel frequency={'14.2'} sideband={'USB'} />,\n    document.getElementById('root')\n  );\n  "],"sourceRoot":""}